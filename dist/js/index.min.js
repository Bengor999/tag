"use strict";

const cards = [
              {
                name: 'chip00',
                image: '00.jpg',
                id: '00'
              },
              {
                name: 'chip01',
                image: '01.jpg',
                id: '01'
              },
              {
                name: 'chip02',
                image: '02.jpg',
                id: '02'
              },
              {
                name: 'chip03',
                image: '03.jpg',
                id: '03'
              },
              {
                name: 'chip04',
                image: '04.jpg',
                id: '04'
              },
              {
                name: 'chip05',
                image: '05.jpg',
                id: '05'
              },
              {
                name: 'chip06',
                image: '06.jpg',
                id: '06'
              },
              {
                name: 'chip07',
                image: '07.jpg',
                id: '07'
              },
              {
                name: 'chip08',
                image: '08.jpg',
                id: '08'
              },
              {
                name: 'chip09',
                image: '09.jpg',
                id: '09'
              },
              {
                name: 'chip10',
                image: '10.jpg',
                id: '10'
              },
              {
                name: 'chip11',
                image: '11.jpg',
                id: '11'
              },
              {
                name: 'chip12',
                image: '12.jpg',
                id: '12'
              },
              {
                name: 'chip13',
                image: '13.jpg',
                id: '13'
              },
              {
                name: 'chip14',
                image: '14.jpg',
                id: '14'
              },
              {
                name: 'chip15',
                image: '15.jpg',
                id: '15'
              }
            ]
;
"use strict";

function Tag(params) {
  // //Устанавливаем начальное значение количества карточек
  //   this.size = 16;
  //Переменная с количеством удачных кликов
    this.successfulClick = 0;
  //переменная с количеством совпадений с выигрышным вариантом
    this.winningMatches = 0;
  //Ставим переключатель отработки функции 
    this.switchLogic;
  //Активная карточка номер
    this.activeCard;
  //Нулевая карточка номер
    this.zeroCard;
  //Рабочий массив карточек
    this.workingArrayCards = [];
  //Элемент, по которому прошел клик
    this.clickedEl;
  //Логический переключатель для кнопки обмена карточек
    this.exchangeLogic = true;

//Зафиксируем this у нескольких обьектов

// this.clickedElBind = this.clickedEl.bind(this);
// this.switchLogic = this.switchLogicBind.bind(this);
// this.activeCard = this.activeCardBind.bind(this);
// this.zeroCard = this.zeroCardBind.bind(this);


  //Ищем элемент с нашим полем под карточки
    this.field = document.querySelector('.playing-field');
  //Ищем элемент с результатом кликов
    this.playingResults = document.querySelector('.additional-field__playing-results');
  //Ищем элемент с дополнительным полем
    this.additionalField = document.querySelector('.additional-field');

  //Для перемешивания массива используем отличный алгоритм под названием Тасование Фишера — Йетса. Суть заключается в том, чтобы проходить по массиву в обратном порядке и менять местами каждый элемент со случайным элементом, который находится перед ним.
    this.mixing = function (arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        let j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      };
    };

  //функция изготовления случайного массива карточек в начале игры».
    this.randomArrow = function (arr) {
      this.successfulClick = 0;
      this.unsuccessfulClick = 0;
    //Дублируем исходный массив
      this.workingArrayCards = [...arr];
    //Перемешиваем, что бы не повторялись начальные карточки
      this.mixing(this.workingArrayCards) 
    //строим игровую сетку из полученного масиива
      this.cardsGrid(this.workingArrayCards);
    //навешиваем слушателей на карточки
      this.cardListener()
      this.btnExchangeListener()

    };

  //Вешаем слушателей на отрисованные карточки
    this.cardListener = function () {
        
    //Ищем коллецию карточек на нашем поле
      let arrowCard = this.field.querySelectorAll('.card');
    // console.log ("777")

    //Создаем цикл для перебора массива и приклеивания функции нашим карточкам
      for (let i = 0; i < arrowCard.length; i++) {
        let clickCard = arrowCard[i];
      //На нулевую карточку слушатель вешать не надо
        if (clickCard.classList.contains('chip00')) {
        } else {
          let that = this;
          clickCard.addEventListener('click', function (e) {
            that.сardClick(e);
          } );
        }
      }
      this.switchLogic = true;
    };

  // Обрабатываем клик по карточке.
    this.сardClick = function (e) {
    //Во избежание множественных быстрых кликов по карточкам и их срабатывания, добавляем логический переключатель, который позволит запустить новую функцию обрабтки клика только при завершении старой.
      if (this.switchLogic) {
      //в начале функции переключаем в ЛОЖЬ, что бы следующие клики не обрабатывались, пока функция не завершится
        this.switchLogic = false
      //определяем обьект клика
        this.clickedEl = e.currentTarget;
      //Если на обьекте клика нет класса active, то 
      //Зачем это условие?
      console.log ("444")
        if (!(this.clickedEl.classList.contains('active'))) {
        //мы добавляем класс active на карточку
          this.clickedEl.classList.add('active');
        //Ищем коллецию карточек на нашем поле
          let arrowCard = this.field.querySelectorAll('.card');

        //Создаем цикл для перебора массива и определения номеров активной и нулевой карточки
          for (let i = 0; i < arrowCard.length; i++) {
            let clickCard = arrowCard[i];
            if (clickCard.classList.contains('active')) {
          // запоминаем индекс активной карточки
              this.activeCard = i;
            } else if (clickCard.classList.contains('chip00')) {
          //запоминаем индекс нулевой картоски
              this.zeroCard = i;
            }
          }
        //мы удаляем класс active на карточку
          this.clickedEl.classList.remove('active');
        //Запускаем функцию определения можно ли двигать карточку
          this.allowMovement();
        }
      }
    };

    //функция определения можно ли двигать карточку
    this.allowMovement = function () {
      if ((this.activeCard === 3) ||
          (this.activeCard === 7) ||
          (this.activeCard === 11)) {

        if (this.activeCard === (this.zeroCard + 1)) {
          this.allowedCard()
        } else if  (this.activeCard === (this.zeroCard - 4)) {
          this.allowedCard()
        } else if  (this.activeCard === (this.zeroCard + 4)) {
          this.allowedCard()
        } else {
          this.missCard()
        }

      } else if ((this.activeCard === 4) ||
                (this.activeCard === 8) ||
                (this.activeCard === 12)) {

        if (this.activeCard === (this.zeroCard - 1)) {
          this.allowedCard()
        } else if  (this.activeCard === (this.zeroCard - 4)) {
          this.allowedCard()
        } else if  (this.activeCard === (this.zeroCard + 4)) {
          this.allowedCard()
        } else {
          this.missCard()
        }

      } else {

        if (this.activeCard === (this.zeroCard - 1)) {
          this.allowedCard()
        } else if  (this.activeCard === (this.zeroCard + 1)) {
          this.allowedCard()
        } else if  (this.activeCard === (this.zeroCard - 4)) {
          this.allowedCard()
        } else if  (this.activeCard === (this.zeroCard + 4)) {
          this.allowedCard()
        } else {
          this.missCard()
        }
      } 
    };

    //обработка клика по карточке, которую можно двигать
    this.allowedCard = function () {
      let that = this;
      //меняем местами элементы в массиве
      this.transformArray()
      //перерисовываем массив
      this.cardsGrid(this.workingArrayCards);
      //заново вешаем слушателей
      this.cardListener();
      this.successfulClick++;
      this.renderQuantityClick()
    };

    //подсветка карточки, которую нельзя двигать
    this.missCard = function () {
      let tempEl = this.clickedEl;
      console.log(tempEl)
      tempEl.classList.add('miss');
      // let that = this;
      console.log(tempEl)

      setTimeout(() => {
        tempEl.classList.remove('miss')
        this.switchLogic = true;

      }, 200);
    };

    //трансформация массива
    this.transformArray = function () {
      let tmp = this.workingArrayCards[this.activeCard];
      this.workingArrayCards[this.activeCard] = this.workingArrayCards[this.zeroCard];
      this.workingArrayCards[this.zeroCard] = tmp;
    };

    //отрисовываем результат поиска совпадений
    this.renderQuantityClick = function () {
      this.coincidencesChip();
      this.playingResults.innerHTML = '';
      let elem = this.createElement(`<div class="additional-field__playing-results_content">
          <div class="additional-field__playing-results_text">
          <hr> Передвинуто фишек: ${this.successfulClick}
          </div>
          <div class="additional-field__playing-results_text">
          Фишек на своих местах: ${this.winningMatches}
          </div>
        </div>`);

      //Вставляем элемент в игровое поле вместо карточек
      this.playingResults.append(elem);
      if (this.winningMatches === 15) {
        this.gameOver()
      }
    };

    //Проверяем количество фишек на своих местах
    this.coincidencesChip = function () {
      //Обнуляем значение совпадений
      this.winningMatches = 0;
      //Вводим доп переменную, с котрой проводим сравнение (наши карточки должны стоять по порядку возрастания)
      let n = 0;
      //Создаем цикл для перебора массива и определяем местонахождение каждой карточки в соответсвии с эталоном
      for (let i = 0; i < this.workingArrayCards.length; i++) {
        let elCard = this.workingArrayCards[i];
        ++n;
        if (elCard.id == n) {
          // Увеличиваем количество совпалений
          this.winningMatches++;
        }
      }
    };

    //Вешаем слушателей на кнопку обмена карточек
    this.btnExchangeListener = function () {
      //Ищем кнопку на нашем поле
      let btnExchange = this.additionalField.querySelector('.additional-field__replacing-chips_button');
      //приклеиваем к ней функцию и слушателя
      let that = this;
      btnExchange.addEventListener('click', function (e) {
        that.btnCardExchange(e);
      });
    };

    //Функция кнопки ОБМЕН ФИШКИ
    this.btnCardExchange = function () {
      //Обновляем игровое поле и вешаем новых слушателей на фишки
      this.cardsGrid(this.workingArrayCards);
      this.cardExchangeListener();

      //отрисовываем совет после нажатия на кнопку
      let el = this.additionalField.querySelector('.additional-field__replacing-chips')
      el.innerHTML = '';
      let elem = this.createElement(`<div class="additional-field__replacing-chips_text">
      <hr> Выберите две фишки
        </div>`);

      //Вставляем элемент в игровое поле вместо кнопки
      el.append(elem);
    };

    //Функция для слушателя карточек при их обмене
    this.cardExchangeListener = function () {
      //Ищем коллецию карточек на нашем поле
      let arrowCard = this.field.querySelectorAll('.card');
      // console.log ("777")

      //Создаем цикл для перебора массива и приклеивания функции нашим карточкам
      for (let i = 0; i < arrowCard.length; i++) {
        let clickCard = arrowCard[i];
        //На нулевую карточку слушатель вешать не надо
        if (clickCard.classList.contains('chip00')) {
          // console.log(111)
        } else {
          let that = this;
          clickCard.addEventListener('click', function (e) {
            that.cardExchange(e);
          } );
          // console.log(222)
        }
      }
    };

    //Функция передвижения карточек
    this.cardExchange = function (e) {
      //определяем обьект клика
      let clickedElem = e.currentTarget;
      //Если на обьекте клика есть класса exchange, то удаляем его
      if ((clickedElem.classList.contains('exchange'))) {
        //мы добавляем класс active на карточку
        clickedElem.classList.remove('exchange');
        //меняем лог переключатель
        this.exchangeLogic = true;
      } else if (this.exchangeLogic !== false){
        //присваиваем класс exchange
        clickedElem.classList.add('exchange');
        //Добавляем логический переключатель
        this.exchangeLogic = false;
      } else {
        //присваиваем класс exchangeSecond
        clickedElem.classList.add('exchangeSecond');
        // собираем коллекцию элементов
        let arrowCard = this.field.querySelectorAll('.card');
        //Создаем цикл для перебора массива и поиска индексов
        for (let i = 0; i < arrowCard.length; i++) {
          let clickCard = arrowCard[i];
          if (clickCard.classList.contains('exchange')) {
            // запоминаем индекс активной карточки
            this.activeCard = i;
            clickCard.classList.remove('exchange')
          } else if (clickCard.classList.contains('exchangeSecond')) {
            //запоминаем индекс нулевой картоски
            this.zeroCard = i;
            clickCard.classList.remove('exchangeSecond')
          }
        }
        this.allowedCard()
        //отрисовываем совпосле нажатия на кнопку
        let el = this.additionalField.querySelector('.additional-field__replacing-chips')
        el.innerHTML = '';
        el.classList.add('additional-field__replacing-chips_unnecessary')
      }
    };

    //Функция завершения игры
    this.gameOver = function () {
      this.field.innerHTML = '';
      let element = this.createElement(`<div class="playing-field__game-over">
          <img class="playing-field__game-over_img" src="../assets/images/3b07736s-19201.jpg" alt="Грибок"/>
          <img class="playing-field__game-over_img" src="https://i.gifer.com/embedded/download/G4ZO.gif" alt="Празднование гифка"/>
        </div>`);
    
      //Вставляем элемент в игровое поле вместо карточек
      this.field.append(element);
      this.field.classList.add('playing-field_end');
    
      //На всякий случай еще раз прячем кнопку обмена
      let el = this.additionalField.querySelector('.additional-field__replacing-chips')
      el.innerHTML = '';
      el.classList.add('additional-field__replacing-chips_unnecessary')
      
      setTimeout(function(){
        location.reload();
      }, 10000);
    };
    
    //Маленькая функция для добавления элементов
    this.createElement = function (html) {
      const div = document.createElement('div');
      div.innerHTML = html;
      return div.firstElementChild;
    };

    //Заполняем игровое поле
    this.cardsGrid = function (cards) {
      this.field.innerHTML = '';

      for (let el of cards) {
        let elem = this.createElement(`<div class="card-container">
            <div class="card ${el.name}">
              <div class="card-front">
                ${el.id}
              </div>
            </div>
          </div>`);
          this.field.append(elem);
      }
    };

}


  
;

let tagStart = new Tag ();
tagStart.randomArrow(cards, 16);

/*
//Устанавливаем начальное значение количества карточек
let size = 16;
//Переменная с количеством удачных кликов
let successfulClick = 0;
//переменная с количеством совпадений с выигрышным вариантом
let winningMatches = 0;
//Ставим переключатель отработки функции
let switchLogic = true;
//Переключатель для функции фейерверка
let fireWorksLogic = false;
//Активная карточка номер
let activeCard;
//Нулевая карточка номер
let zeroCard;
//Рабочий массив карточек
let workingArrayCards = [];
//Элемент, по которому прошел клик
let clickedEl;
//Логический переключатель для кнопки обмена карточек
let exchangeLogic = true;



//ищем элемент canvas
// const canvasEl = document.querySelector('canvas');
// //Ищем элемент с нашим полем под карточки
const field = document.querySelector('.playing-field');
//Ищем элемент с результатом кликов
const playingResults = document.querySelector('.additional-field__playing-results');
//Ищем элемент с дополнительным полем
const additionalField = document.querySelector('.additional-field');

//Для перемешивания массива используем отличный алгоритм под названием Тасование Фишера — Йетса. Суть заключается в том, чтобы проходить по массиву в обратном порядке и менять местами каждый элемент со случайным элементом, который находится перед ним.
function mixing(arr) {
  for (let i = arr.length - 1; i > 0; i--) {
    let j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
}

//функция изготовления случайного массива карточек в начале игры».

function randomArrow(arr) {
  successfulClick = 0;
  clearQuantityClick();
  //Дублируем исходный массив
  workingArrayCards = [...arr];
  //Перемешиваем, что бы не повторялись начальные карточки
  mixing(workingArrayCards) 
  //строим игровую сетку из полученного масиива
  cardsGrid(workingArrayCards);
  //навешиваем слушателей на карточки
  cardListener()
}

//Маленькая функция для добавления элементов
function createElement(html) {
  const div = document.createElement('div');
  div.innerHTML = html;
  return div.firstElementChild;
};


  


//Заполняем игровое поле
function cardsGrid(cards) {
  field.innerHTML = '';

  for (let el of cards) {
    let elem = createElement(`<div class="card-container">
        <div class="card ${el.name}">
          <div class="card-front">
            ${el.id}
          </div>
        </div>
      </div>`);
    field.append(elem);
  }
}



//Вешаем слушателей на отрисованные карточки
function cardListener() {
    
  //Ищем коллецию карточек на нашем поле
  let arrowCard = field.querySelectorAll('.card');
  // console.log ("777")

  //Создаем цикл для перебора массива и приклеивания функции нашим карточкам
  for (let i = 0; i < arrowCard.length; i++) {
    let clickCard = arrowCard[i];
    //На нулевую карточку слушатель вешать не надо
    if (clickCard.classList.contains('chip00')) {
      // console.log(111)
    } else {
      clickCard.addEventListener('click', сardClick);
      // console.log(222)
    }
  }
  switchLogic = true;
}


// Обрабатываем клик по карточке.
function сardClick(eventObject) {
    //Во избежание множественных быстрых кликов по карточкам и их срабатывания, добавляем логический переключатель, который позволит запустить новую функцию обрабтки клика только при завершении старой.
    if (switchLogic) {
      //в начале функции переключаем в ЛОЖЬ, что бы следующие клики не обрабатывались, пока функция не завершится
      switchLogic = false
      //определяем обьект клика
      clickedEl = eventObject.currentTarget;

      //Если на обьекте клика нет класса active, то 
      //Зачем это условие?
      if (!(clickedEl.classList.contains('active'))) {
        //мы добавляем класс active на карточку
        clickedEl.classList.add('active');
        //Ищем коллецию карточек на нашем поле
        let arrowCard = field.querySelectorAll('.card');

        //Создаем цикл для перебора массива и определения номеров активной и нулевой карточки
        for (let i = 0; i < arrowCard.length; i++) {
          let clickCard = arrowCard[i];
          if (clickCard.classList.contains('active')) {
            // запоминаем индекс активной карточки
            activeCard = i;
          } else if (clickCard.classList.contains('chip00')) {
            //запоминаем индекс нулевой картоски
            zeroCard = i;
          }
        }
        //мы удаляем класс active на карточку
        clickedEl.classList.remove('active');
        //Запускаем функцию определения можно ли двигать карточку
        allowMovement();
      }
    }
}

//функция определения можно ли двигать карточку
function allowMovement() {
  if ((activeCard === 3) ||
      (activeCard === 7) ||
      (activeCard === 11)) {

    if (activeCard === (zeroCard + 1)) {
      allowedCard()
    } else if  (activeCard === (zeroCard - 4)) {
      allowedCard()
    } else if  (activeCard === (zeroCard + 4)) {
      allowedCard()
    } else {
      missCard()
    }

  } else if ((activeCard === 4) ||
            (activeCard === 8) ||
            (activeCard === 12)) {

    if (activeCard === (zeroCard - 1)) {
      allowedCard()
    } else if  (activeCard === (zeroCard - 4)) {
      allowedCard()
    } else if  (activeCard === (zeroCard + 4)) {
      allowedCard()
    } else {
      missCard()
    }

  } else {

    if (activeCard === (zeroCard - 1)) {
      allowedCard()
    } else if  (activeCard === (zeroCard + 1)) {
      allowedCard()
    } else if  (activeCard === (zeroCard - 4)) {
      allowedCard()
    } else if  (activeCard === (zeroCard + 4)) {
      allowedCard()
    } else {
      missCard()
    }
  } 
}

//обработка клика по карточке, которую можно двигать
function allowedCard() {
  //меняем местами элементы в массиве
  transformArray()
  //перерисовываем массив
  cardsGrid(workingArrayCards);
  //заново вешаем слушателей
  cardListener();
  successfulClick++;
  renderQuantityClick()
}

//трансформация массива
function transformArray() {
  let tmp = workingArrayCards[activeCard];
  workingArrayCards[activeCard] = workingArrayCards[zeroCard];
  workingArrayCards[zeroCard] = tmp;
} 

//подсветка карточки, которую нельзя двигать
function missCard() {
  let tempEl = clickedEl
  tempEl.classList.add('miss');
  setTimeout(() => {
    tempEl.classList.remove('miss')
    switchLogic = true;

  }, 100);
}

randomArrow(cards, size)


//отрисовываем результат поиска совпадений
function renderQuantityClick() {
  coincidencesChip();
  playingResults.innerHTML = '';
  let elem = createElement(`<div class="additional-field__playing-results_content">
      <div class="additional-field__playing-results_text">
      <hr> Передвинуто фишек: ${successfulClick}
      </div>
      <div class="additional-field__playing-results_text">
      Фишек на своих местах: ${winningMatches}
      </div>
    </div>`);

  //Вставляем элемент в игровое поле вместо карточек
  playingResults.append(elem);
  if (winningMatches === 15) {
    console.log("ddddddd")
    gameOver()
  }
}
//очищаем результат поиска совпадений
function clearQuantityClick() {
  playingResults.innerHTML = '';
}

//Проверяем количество фишек на своих местах
function coincidencesChip() {
  //Обнуляем значение совпадений
  winningMatches = 0;
  //Вводим доп переменную, с котрой проводим сравнение (наши карточки должны стоять по порядку возрастания)
  let n = 0;
  //Создаем цикл для перебора массива и определяем местонахождение каждой карточки в соответсвии с эталоном
  for (let i = 0; i < workingArrayCards.length; i++) {
    let elCard = workingArrayCards[i];
    ++n;
    if (elCard.id == n) {
      // Увеличиваем количество совпалений
      winningMatches++;
    }
  }
}


//Вешаем слушателей на кнопку обмена карточек
function btnExchangeListener() {
    
  //Ищем кнопку на нашем поле
  let btnExchange = additionalField.querySelector('.additional-field__replacing-chips_button');
  //приклеиваем к ней функцию и слушателя
  btnExchange.addEventListener('click', btnCardExchange);
}
btnExchangeListener()


//Функция кнопки ОБМЕН ФИШКИ
function btnCardExchange() {
  //Обновляем игровое поле и вешаем новых слушателей на фишки
  cardsGrid(workingArrayCards);
  cardExchangeListener();

  //отрисовываем совет после нажатия на кнопку
  let el = additionalField.querySelector('.additional-field__replacing-chips')
  el.innerHTML = '';
  let elem = createElement(`<div class="additional-field__replacing-chips_text">
  <hr> Выберите две фишки
    </div>`);

  //Вставляем элемент в игровое поле вместо кнопки
  el.append(elem);
}


//Функция для слушателя карточек при их обмене
function cardExchangeListener() {
  //Ищем коллецию карточек на нашем поле
  let arrowCard = field.querySelectorAll('.card');
  // console.log ("777")

  //Создаем цикл для перебора массива и приклеивания функции нашим карточкам
  for (let i = 0; i < arrowCard.length; i++) {
    let clickCard = arrowCard[i];
    //На нулевую карточку слушатель вешать не надо
    if (clickCard.classList.contains('chip00')) {
      // console.log(111)
    } else {
      clickCard.addEventListener('click', cardExchange);
      // console.log(222)
    }
  }
}

function cardExchange(eventObject) {
        //определяем обьект клика
        let clickedElem = eventObject.currentTarget;
        //Если на обьекте клика есть класса exchange, то удаляем его
        if ((clickedElem.classList.contains('exchange'))) {
          //мы добавляем класс active на карточку
          clickedElem.classList.remove('exchange');
          //меняем лог переключатель
          exchangeLogic = true;
        } else if (exchangeLogic !== false){
          //присваиваем класс exchange
          clickedElem.classList.add('exchange');
          //Добавляем логический переключатель
          exchangeLogic = false;
        } else {
          //присваиваем класс exchangeSecond
          clickedElem.classList.add('exchangeSecond');
          // собираем коллекцию элементов
          let arrowCard = field.querySelectorAll('.card');
          //Создаем цикл для перебора массива и поиска индексов
          for (let i = 0; i < arrowCard.length; i++) {
            let clickCard = arrowCard[i];
            if (clickCard.classList.contains('exchange')) {
              // запоминаем индекс активной карточки
              activeCard = i;
              clickCard.classList.remove('exchange')
            } else if (clickCard.classList.contains('exchangeSecond')) {
              //запоминаем индекс нулевой картоски
              zeroCard = i;
              clickCard.classList.remove('exchangeSecond')
            }
          }
          allowedCard()
          //отрисовываем совпосле нажатия на кнопку
          let el = additionalField.querySelector('.additional-field__replacing-chips')
          el.innerHTML = '';
          el.classList.add('additional-field__replacing-chips_unnecessary')
        }
}


function gameOver() {
  console.log("hjjhjhjhjh")
  field.innerHTML = '';
  let element = createElement(`<div class="playing-field__game-over">
      <img class="playing-field__game-over_img" src="../assets/images/3b07736s-19201.jpg" alt="Грибок"/>
      <img class="playing-field__game-over_img" src="https://i.gifer.com/embedded/download/G4ZO.gif" alt="Празднование гифка"/>
    </div>`);

  //Вставляем элемент в игровое поле вместо карточек
  field.append(element);
  field.classList.add('playing-field_end');

  //На всякий случай еще раз прячем кнопку обмена
  let el = additionalField.querySelector('.additional-field__replacing-chips')
  el.innerHTML = '';
  el.classList.add('additional-field__replacing-chips_unnecessary')
  
  setTimeout(function(){
    location.reload();
  }, 10000);
}
*/
